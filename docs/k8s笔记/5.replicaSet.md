文档地址：https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicaset/

### ReplicaSet

用户替换 ReplicationController，因为 rs 和 rc 的功能完全相同，但是 rs 提供了更好的标签选择器用于选择 pod 的功能：rc 只能使用完全匹配标签的方式选择 pod ，rs 可以选择 pod 不含某个标签、特定标签名而不管标签值

```yaml
apiVersion: apps/v1
kind: ReplicaSet
metadata:
  name: shttp-rs
spec:
  replicas: 4
  selector: # 标签选择器
    # 经典用法
    matchLabels:
      beloneApp: testApp
    # 高级用法
    matchExpressions:
      - key: beloneApp # 标签
        operator: In # 标签的值 In（包含）、NotIn（不包含）、Exists（等于）、DoesNotExist（不等于），
        			# 标签 Exists（存在）、DoesNotExist（不存在） -- 使用这两种表达式，则不需要 values 字段
        values: 
          - testApp
  template:
    metadata:
      labels:
        beloneApp: testApp
        publishEnv: prod
    spec:
      containers:
        - name: shttp
          image: w4762061/shttp:v1
          ports:
            - containerPort: 8222
```