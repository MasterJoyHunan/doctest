文档地址：https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/job/

### Job

运行执行单个任务的pod，当 pod 异常退出后会重启 pod 直到正常退出 ，当 pod 正常退出后， 不会被重新启动

```yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: shttp-job
spec:
  completions: 5 # 需要运行 5 个 pod 完成
  parallelism: 3 # 可以同时并行 3 个 pod
  template:
    metadata:
      labels:
        beloneApp: batch
        publishEnv: prod
    spec:
      restartPolicy: OnFailure # 重启策略
      containers:
        - name: shttp
          image: luksa/batch-job
          ports:
            - containerPort: 8222
```

