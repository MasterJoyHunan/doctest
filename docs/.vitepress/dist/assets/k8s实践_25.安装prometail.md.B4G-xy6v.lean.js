import{_ as i,c as a,a2 as t,o as h}from"./chunks/framework.DPuwY6B9.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"k8s实践/25.安装prometail.md","filePath":"k8s实践/25.安装prometail.md","lastUpdated":1729815932000}'),k={name:"k8s实践/25.安装prometail.md"};function l(n,s,p,e,E,r){return h(),a("div",null,s[0]||(s[0]=[t(`<h3 id="日收集器-promtail" tabindex="-1">日收集器 promtail <a class="header-anchor" href="#日收集器-promtail" aria-label="Permalink to &quot;日收集器 promtail&quot;">​</a></h3><p>promtail 是 loki 官方推荐的日志收集器，适用于文件日志，docker 日志，k8s 日志收集</p><h4 id="使用-helm-安装" tabindex="-1">使用 helm 安装 <a class="header-anchor" href="#使用-helm-安装" aria-label="Permalink to &quot;使用 helm 安装&quot;">​</a></h4><p>下载配置文件</p><p><code>heml show values grafana/promtail --version 4.2.1 &gt; values.yaml</code></p><p>修改 values.yaml</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  lokiAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://loki:3100/loki/api/v1/push</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 修改为 loki 的 svc</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  snippets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    pipelineStages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cri 修改为 docker</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将不需要收集的 container 排除掉</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{container=&quot;istio-init&quot;}&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">drop</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{container=&quot;istio-proxy&quot;}&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">drop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    scrapeConfigs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      # See also https://github.com/grafana/loki/blob/master/production/ksonnet/promtail/scrape_config.libsonnet for reference</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      - job_name: kubernetes-pods</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        pipeline_stages:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          {{- toYaml .Values.config.snippets.pipelineStages | nindent 4 }}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        kubernetes_sd_configs:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          - role: pod</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            namespaces: # 仅收集特定命名空间下的日志</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              names: </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                - dev </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                - prod </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                - middleware</span></span></code></pre></div><p>安装</p><p><code>heml install promtail grafana/promtail --version 4.2.1 -n istio-system -f values.yaml</code></p><p>升级（更新配置文件）</p><p><code>helm upgrade -f values.yaml promtail grafana/promtail --version 4.2.1 -n istio-system</code></p><h4 id="坑" tabindex="-1">坑 <a class="header-anchor" href="#坑" aria-label="Permalink to &quot;坑&quot;">​</a></h4><p>在收集 docker 25+ 版本（或许只有我的机器出现这样的问题），并且设置了日志切割 ，在日志切割的时候，<code>promtail</code> 会频繁的出现 <code>received file watcher event</code> 日志，并且每过一段时间就会重新收集整个文件的日志，而不是增量收集，导致日志重复收集。该问题不知道是什么引起的，但是通过修改 docker 版本能有效解决问题</p><div class="language-log vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">log</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T02:59:41.259886316Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-105941 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T02:59:41.295760133Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T02:59:41.260144972Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T02:59:41.295775974Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T02:59:51.29574812Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-105951 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T02:59:51.396104288Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T02:59:51.295982872Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T02:59:51.396123948Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:01.328293646Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-110001 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:01.396147466Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts=2024-04-17T03:00:01.32840106Z caller=log.go:168 level=info msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Re-opening moved/deleted file /var/log/pods/prod_test-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5b598cdb79</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-jjwbp_ccef5c07-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">36ae-43ac-bcdf-ea21c4629486</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/test/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.log ...\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:01.396167624Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts=2024-04-17T03:00:01.328422914Z caller=log.go:168 level=info msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Waiting for /var/log/pods/prod_test-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5b598cdb79</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-jjwbp_ccef5c07-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">36ae-43ac-bcdf-ea21c4629486</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/test/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.log to appear...\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:01.396175052Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:01.328493916Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:01.396177091Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">================ 重点 tail routine: tail channel closed, stopping tailer ================</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:06.343006278Z caller=tailer.go:163 component=tailer msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tail routine: tail channel closed, stopping tailer\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; path=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log reason=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gave up trying to reopen log file with a different handle\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:06.395394112Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">================ 重点 tail routine: exited ================</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:06.343035301Z caller=tailer.go:154 component=tailer msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tail routine: exited\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; path=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:06.395423568Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">================ 重点 position timer: exited ================</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:06.34304436Z caller=tailer.go:118 component=tailer msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">position timer: exited\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; path=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:06.395426338Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:11.360982787Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-110011 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:11.395574045Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:11.361210594Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:11.395588273Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">================ 重点 skipping update of position ================</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:12.400790119Z caller=tailer.go:206 component=tailer msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">skipping update of position for a file which does not currently exist\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; path=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:12.495250288Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">================重点 {Offset:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Whence:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} ================</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts=2024-04-17T03:00:12.400991293Z caller=log.go:168 level=info msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Seeked /var/log/pods/prod_test-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5b598cdb79</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-jjwbp_ccef5c07-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">36ae-43ac-bcdf-ea21c4629486</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/test/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.log - \\u0026{Offset:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Whence:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:12.495278548Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:12.401018947Z caller=tailer.go:145 component=tailer msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tail routine: started\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; path=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:12.495282628Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:21.394090559Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-110021 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:21.395524724Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:21.394392336Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:21.395543631Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:31.425725757Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-110031 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:31.49568108Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:31.425922637Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:31.495698121Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:41.457318731Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-110041 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:41.495122968Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:41.457538696Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:41.495139633Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:51.492276947Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-110051 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:51.495911629Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:00:51.492531031Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:00:51.495935097Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:01:01.536046855Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log.20240417-110101 op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:01:01.59578044Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;level=info ts=2024-04-17T03:01:01.536244643Z caller=filetargetmanager.go:181 msg=\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">received file watcher event\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; name=/var/log/pods/prod_test-5b598cdb79-jjwbp_ccef5c07-36ae-43ac-bcdf-ea21c4629486/test/0.log op=CREATE\\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stderr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-04-17T03:01:01.595799009Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>使用 docker 20.10.11 版本就没这个问题</p><p>2024-05-16 还是有同样的问题，换成 fluent-bit 看能不能解决</p>`,16)]))}const g=i(k,[["render",l]]);export{d as __pageData,g as default};
