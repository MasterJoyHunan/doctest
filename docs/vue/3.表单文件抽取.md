```vue
<template>
    <el-dialog v-model="visible"
               :title="formData.id == 0 ? '添加内容' : '编辑内容'">
        <template #footer>
            <el-button @click="visible = false">取消</el-button>
            <el-button type="primary"
                       @click="submitForm()">确定</el-button>
        </template>
    </el-dialog>
</template>

<script setup>
import { ref, computed } from 'vue'

const emit = defineEmits(['update:visible', 'update:formData', 'done'])
const props = defineProps({
    visible: {
        type: Boolean,
        default: false
    },
    formData: {
        type: Object
    }
})

const visible = computed({
    get: () => props.visible,
    set: (value) => emit('update:visible', value)
})
const formData = computed({
    get: () => props.formData,
    set: (value) => emit('update:formData', value)
})
</script>
```

父级调用

```vue
<template>
    <dialog-form v-model:visible="showDialog"
                 v-model:formData="formData"
                 @done="_getData"></dialog-form>
</template>
<script setup>
import { ref } from 'vue'
import DialogForm from './form.vue'

const defaultFormData = () => ({
    id: 0,
    title: ''
})

// 获取数据
const _getData = async () => {
    // todo
}

// data
const showDialog = ref(false)
const formData = ref({})

// 添加
const handleAdd = () => {
    showDialog.value = true
    formData.value = defaultFormData()
}

// 编辑配置
const handleEdit = async (row) => {
    showDialog.value = true
    const { data } = await detail(row.id)
    Object.assign(formData.value, data)
}
</script>

```

