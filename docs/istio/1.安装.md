### 使用 HELM 安装

文档 https://istio.io/latest/docs/setup/install/helm/

下载 helm 二进制包，复制至  `/usr/local/bin/`

helm 地址 https://github.com/helm/helm/releases

### helm 添加 istio 源

```sh
helm repo add istio https://istio-release.storage.googleapis.com/charts
helm repo update
```

### 安装 ISTIO CRD

```
helm install istio-base istio/base -n istio-system --set defaultRevision=default --create-namespace	
```

### 安装 ISTIOD

```
helm install istiod istio/istiod -n istio-system
```

### 安装 istio-ingress

```
helm install istio-ingress istio/gateway -n istio-ingress --create-namespace
```

### 为命名空间添加 sidecar

```
# 禁止注入
kubectl label namespace default istio-injection-
# 开启注入
kubectl label namespace default istio-injection=enabled --overwrite
```

